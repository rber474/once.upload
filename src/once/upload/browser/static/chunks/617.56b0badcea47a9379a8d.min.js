"use strict";(self.webpackChunkupload=self.webpackChunkupload||[]).push([[617],{11191:(t,e,n)=>{n.d(e,{Z:()=>p});var r=n(27410),o=n.n(r),a=n(52228),i=n(7424);const s={getOptions(t,e,n){n=n||{},0===t.length||o().nodeName(t[0],"body")||(n=this.getOptions(t.parent(),e,n));let r={};if(0!==t.length&&(r=t.data("pat-"+e),r&&"string"==typeof r)){const t={};o().each(r.split(";"),(function(e,n){(n=n.split(":")).reverse();let r=n.pop();r=r.replace(/^\s+|\s+$/g,""),n.reverse();let o=n.join(":");o=o.replace(/^\s+|\s+$/g,""),t[r]=o})),r=t}return o().extend(!0,{},n,r)}},l=i.Z.getLogger("Patternslib Base"),u=function(t,e,n){t.jquery||(t=o()(t));const r=this.prototype.name,l=i.Z.getLogger(`pat.${r}`);let u=t.data(`pattern-${r}`);if(void 0===u&&a.Z.patterns[r])try{t.data(`pattern-${r}`,"initializing"),e="mockup"===this.prototype.parser?s.getOptions(t,r,e):e,u=new a.Z.patterns[r](t,e,n)}catch(t){l.error(`Failed while initializing ${r} pattern.`,t)}return u},c=async function(t,e,n){t?.jquery&&0===t.length||!t?l.warn("No element given to pattern."):(t.jquery||(t=o()(t)),this.$el=t,this.el=t[0],this.options=o().extend(!0,{},this.defaults||{},e||{}),this.emit("pre-init"),await this.init(t,e,n),this.$el.data(`pattern-${this.name}`,this),this.el[`pattern-${this.name}`]=this,this.emit("init"))};c.prototype={constructor:c,on(t,e){this.$el.on(`${t}.${this.name}.patterns`,e)},one(t,e){this.$el.one(`${t}.${this.name}.patterns`,e)},emit(t,e){void 0===e&&(e=[]),this.$el.trigger(`${t}.${this.name}.patterns`,e)}},c.extend=function(t){const e=this;let n;if(!t)throw new Error("Pattern configuration properties required when calling Base.extend");n=Object.hasOwnProperty.call(t,"constructor")?t.constructor:function(){e.apply(this,arguments)},n.extend=c.extend,n.init=u,n.jquery_plugin=!0,n.trigger=t.trigger,n.parser=t?.parser||null;var r=function(){this.constructor=n};return r.prototype=e.prototype,n.prototype=new r,o().extend(!0,n.prototype,t),n.__super__=e.prototype,t.name?t.trigger?!1!==t.autoregister&&a.Z.register(n,t.name):l.warn(`The pattern ${t.name} does not have a trigger attribute, it will not be registered.`):l.warn("This pattern without a name attribute will not be registered!"),n};const p=c},72896:(t,e,n)=>{n.d(e,{ZP:()=>l});var r=n(27410),o=n.n(r);const a=function(){var t=this;t.baseUrl=o()("body").attr("data-i18ncatalogurl"),t.currentLanguage=o()("html").attr("lang")||"en",t.currentLanguage.split("-").length>1&&(t.currentLanguage=t.currentLanguage.split("-")[0]+"_"+t.currentLanguage.split("-")[1].toUpperCase()),t.storage=null,t.catalogs={},t.ttl=864e5,Date.now||(Date.now=function(){return(new Date).valueOf()});try{"localStorage"in window&&null!==window.localStorage&&"JSON"in window&&null!==window.JSON&&(t.storage=window.localStorage)}catch(t){console.log("Failed to set local storage")}t.configure=function(e){for(var n in e)t[n]=e[n]},t._setCatalog=function(e,n,r){e in t.catalogs||(t.catalogs[e]={}),t.catalogs[e][n]=r},t._storeCatalog=function(e,n,r){var o=e+"-"+n;null!==t.storage&&null!==r&&(t.storage.setItem(o,JSON.stringify(r)),t.storage.setItem(o+"-updated",Date.now()))},t.getUrl=function(e,n){return t.baseUrl+"?domain="+e+"&language="+n},t.loadCatalog=function(e,n){if(void 0===n&&(n=t.currentLanguage),null!==t.storage){var r=e+"-"+n;if(r in t.storage&&Date.now()-parseInt(t.storage.getItem(r+"-updated"),10)<t.ttl){var a=JSON.parse(t.storage.getItem(r));return void t._setCatalog(e,n,a)}}t.baseUrl&&o().getJSON(t.getUrl(e,n),(function(r){null!==r&&(t._setCatalog(e,n,r),t._storeCatalog(e,n,r))}))},t.MessageFactory=function(e,n){return n=n||t.currentLanguage,function(r,o){var a,i,s;if(a=e in t.catalogs&&n in t.catalogs[e]&&r in t.catalogs[e][n]?t.catalogs[e][n][r]:r,o)for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i=new RegExp("\\$\\{"+s+"\\}","g"),a=a.replace(i,o[s]));return a}}};let i={plone:null,widgets:null};const s=function(t,e,n){if(null===i[t]){var r=new a;r.loadCatalog(t),i[t]=r.MessageFactory(t)}return i[t](e,n)},l=function(t,e){return s("widgets",t,e)}},35712:(t,e,n)=>{n.d(e,{Z:()=>w});var r,o,a=n(27410),i=n.n(a);Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},o=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,o.prototype=new r,o});var s={DEBUG:10,INFO:20,WARN:30,ERROR:40,FATAL:50};function l(){}function u(t,e){this._loggers={},this.name=t||"",this._parent=e||null,e||(this._enabled=!0,this._level=s.WARN)}function c(t){o=t}l.prototype={output:function(t,e,n){t&&n.unshift(t+":"),e<=s.DEBUG?(n.unshift("[DEBUG]"),console.log.apply(console,n)):e<=s.INFO?console.info.apply(console,n):e<=s.WARN?console.warn.apply(console,n):console.error.apply(console,n)}},u.prototype={getLogger:function(t){for(var e=t.split("."),n=this,r=this.name?[this.name]:[];e.length;){var o=e.shift();r.push(o),o in n._loggers||(n._loggers[o]=new u(r.join("."),n)),n=n._loggers[o]}return n},_getFlag:function(t){var e=this;for(t="_"+t;null!==e;){if(void 0!==e[t])return e[t];e=e._parent}return null},setEnabled:function(t){this._enabled=!!t},isEnabled:function(){this._getFlag("enabled")},setLevel:function(t){"number"==typeof t?this._level=t:"string"==typeof t&&(t=t.toUpperCase())in s&&(this._level=s[t])},getLevel:function(){return this._getFlag("level")},log:function(t,e){!e.length||!this._getFlag("enabled")||t<this._getFlag("level")||(e=Array.prototype.slice.call(e),o.output(this.name,t,e))},debug:function(){this.log(s.DEBUG,arguments)},info:function(){this.log(s.INFO,arguments)},warn:function(){this.log(s.WARN,arguments)},error:function(){this.log(s.ERROR,arguments)},fatal:function(){this.log(s.FATAL,arguments)}},c(new l),r=new u;for(var p,g=/loglevel(|-[^=]+)=([^&]+)/g;null!==(p=g.exec(window.location.search));){(""===p[1]?r:r.getLogger(p[1].slice(1))).setLevel(p[2].toUpperCase())}const d={Level:s,getLogger:r.getLogger.bind(r),setEnabled:r.setEnabled.bind(r),isEnabled:r.isEnabled.bind(r),setLevel:r.setLevel.bind(r),getLevel:r.getLevel.bind(r),debug:r.debug.bind(r),info:r.info.bind(r),warn:r.warn.bind(r),error:r.error.bind(r),fatal:r.fatal.bind(r),getWriter:function(){return o},setWriter:c}.getLogger("core utils");var h=function(t){var e=this;e.className="spinner-border";return t||(t={}),e.options=i().extend({},{backdrop:null,zIndex:10005},t),e.init=function(){e.$el=i()("."+e.className),0===e.$el.length&&(e.$el=i()("<div><div></div></div>"),e.$el.addClass(e.className).hide().appendTo("body"))},e.show=function(t){e.init(),e.$el.show(),e.$el.css("position","absolute"),e.$el.css("top","50%"),e.$el.css("left","50%");var n=e.options.zIndex;"function"==typeof n?n=Math.max(n(),10005):(n=10005,i()(".modal-wrapper,.-modal-backdrop").each((function(){n=Math.max(n,i()(this).css("zIndex")||10005)})),n+=1),e.$el.css("zIndex",n),void 0===t&&(t=!0),e.options.backdrop&&(e.options.backdrop.closeOnClick=t,e.options.backdrop.closeOnEsc=t,e.options.backdrop.init(),e.options.backdrop.show())},e.hide=function(){e.init(),e.$el.hide()},e},f=function(t){return void 0===t&&(t="id"),t+Math.floor(65536*(1+Math.random())).toString(16).substring(1)},b={dragAndDrop:function(){return"draggable"in document.createElement("span")},fileApi:function(){return"undefined"!=typeof FileReader},history:function(){return!(!window.history||!window.history.pushState)}},y={get:function(t){if(window.localStorage){var e=window.localStorage[t];return"string"==typeof e?JSON.parse(e):void 0}},set:function(t,e){window.localStorage&&(window.localStorage[t]=JSON.stringify(e))}};const v=new Map,w={bool:function(t){return"string"==typeof t&&(t=t.trim(t).toLowerCase()),-1===["false",!1,"0",0,"",void 0,null].indexOf(t)},escapeHTML:function(t){return i()("<div/>").text(t).html()},removeHTML:function(t){return t.replace(/<[^>]+>/gi,"")},featureSupport:b,generateId:f,getAuthenticator:function(){var t=i()('input[name="_authenticator"]');return 0===t.length?(t=i()('a[href*="_authenticator"]')).length>0?t.attr("href").split("_authenticator=")[1]:"":t.val()},getWindow:function(){var t=window;return t.parent!==window&&(t=t.parent),t},Loading:h,loading:new h,parseBodyTag:function(t){return i()(/<body[^>]*>[^]*<\/body>/im.exec(t)[0].replace("<body","<div").replace("</body>","</div>")).eq(0).html()},QueryHelper:function(t){var e=this;return e.options=i().extend({},{pattern:null,vocabularyUrl:null,searchParam:"SearchableText",pathOperator:"plone.app.querystring.operation.string.path",attributes:["UID","Title","Description","getURL","portal_type"],batchSize:10,baseCriteria:[],sort_on:"is_folderish",sort_order:"reverse",pathDepth:1},t),e.pattern=e.options.pattern,void 0!==e.pattern&&null!==e.pattern||(e.pattern={browsing:!1,basePath:"/"}),e.options.url&&!e.options.vocabularyUrl?e.options.vocabularyUrl=e.options.url:e.pattern.vocabularyUrl&&(e.options.vocabularyUrl=e.pattern.vocabularyUrl),e.valid=Boolean(e.options.vocabularyUrl),e.getBatch=function(t){return{page:t||1,size:e.options.batchSize}},e.getCurrentPath=function(){var t,n=e.pattern;"function"==typeof(t=e.currentPath?e.currentPath:n.currentPath)&&(t=t());var r=t;return r||(r=n.basePath?n.basePath:n.options.basePath?n.options.basePath:"/"),r},e.getCriterias=function(t,n){void 0===n&&(n={});var r=[];return(n=i().extend({},{useBaseCriteria:!0,additionalCriterias:[]},n)).useBaseCriteria&&(r=e.options.baseCriteria.slice(0)),t&&(t+="*",r.push({i:e.options.searchParam,o:"plone.app.querystring.operation.string.contains",v:t})),n.searchPath?r.push({i:"path",o:e.options.pathOperator,v:n.searchPath+"::"+e.options.pathDepth}):e.pattern.browsing&&r.push({i:"path",o:e.options.pathOperator,v:e.getCurrentPath()+"::"+e.options.pathDepth}),r=r.concat(n.additionalCriterias)},e.getQueryData=function(t,n){var r={query:JSON.stringify({criteria:e.getCriterias(t),sort_on:e.options.sort_on,sort_order:e.options.sort_order}),attributes:JSON.stringify(e.options.attributes)};return n&&(r.batch=JSON.stringify(e.getBatch(n))),r},e.getUrl=function(){var t=e.options.vocabularyUrl;return-1===t.indexOf("?")?t+="?":t+="&",t+i().param(e.getQueryData())},e.selectAjax=function(){return{url:e.options.vocabularyUrl,dataType:"JSON",quietMillis:100,data:function(t,n){return e.getQueryData(t,n)},results:function(t,e){var n=10*e<t.total;return{results:t.results,more:n}}}},e.search=function(t,n,r,o,a,s){void 0===a&&(a=!0),void 0===s&&(s="GET");var l=[];a&&(l=e.options.baseCriteria.slice(0)),l.push({i:t,o:n,v:r});var u={query:JSON.stringify({criteria:l}),attributes:JSON.stringify(e.options.attributes)};i().ajax({url:e.options.vocabularyUrl,dataType:"JSON",data:u,type:s,success:o})},e},resolveIcon:async function(t){const e=`plone.icon.${t}`,r=e;return v.has(r)||(v.set(r,async function(){let r="";const o=document.body.getAttribute("data-portal-url");if(o){const e=o+"/@@iconresolver";if(e)try{const n=new AbortController;setTimeout((()=>n.abort()),5e3);const o=await fetch(`${e}/${t}`,{signal:n.signal});r=await o.text()}catch(n){d.warn(`Loading icon "${t}" from URL ${e} failed.`),console.warn(n)}}if(!r){t=e;try{n.e(662).then(n.bind(n,71662));const e=await n.e(392).then(n.t.bind(n,83392,19)),o=e[t]?.split?.("/");o[0].includes("bootstrap-icons")&&(r=await n(47010)(`./${o[1]}`),r=r?.default)}catch(t){d.warn(`Loading icon "${e}" failed from fallback.`),console.warn(t)}}return r}()),d.debug(`Loading icon "${e}"`)),await v.get(r)},setId:function(t,e){void 0===e&&(e="id");var n=t.attr("id");return n=void 0===n?f(e):n.replace(/\./g,"-"),t.attr("id",n),n},storage:y}}}]);
//# sourceMappingURL=617.56b0badcea47a9379a8d.min.js.map